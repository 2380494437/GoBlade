<div class="layui-card">
    <div class="layui-card-header"><h2>ç»Ÿä¸€è¿”å› JSON æ•°æ®</h2></div>
    <div class="layui-card-body">

        <blockquote class="layui-elem-quote">
            æ‰€æœ‰æ¥å£å»ºè®®é€šè¿‡ <code>utils.JSON()</code> æ–¹æ³•ç»Ÿä¸€è¿”å›æ ¼å¼ï¼Œä¾¿äºå‰ç«¯è§£æä¸æ¥å£ä¸€è‡´æ€§ç®¡ç†ã€‚
        </blockquote>

        <fieldset class="layui-elem-field">
            <legend>ğŸ“¦ è¿”å›å‡½æ•°å®šä¹‰</legend>
            <div class="layui-field-box">
                <pre>
// utils/response.go

func JSON(c *gin.Context, code int, message string, data interface{}) {
    c.JSON(code, gin.H{
        "code":    code,
        "message": message,
        "data":    data,
    })
}
                </pre>
                <p>è¯´æ˜ï¼š</p>
                <ul class="layui-text">
                    <li><code>code</code>ï¼šHTTP çŠ¶æ€ç ï¼ˆ200ã€400ã€500 ç­‰ï¼‰</li>
                    <li><code>message</code>ï¼šæç¤ºä¿¡æ¯</li>
                    <li><code>data</code>ï¼šè¿”å›çš„æ•°æ®ç»“æ„ï¼ˆmapã€structã€list ç­‰ï¼‰</li>
                </ul>
            </div>
        </fieldset>

        <fieldset class="layui-elem-field">
            <legend>âœ… ç¤ºä¾‹ï¼šè¿”å›ç”¨æˆ·ä¿¡æ¯</legend>
            <div class="layui-field-box">
                <pre>
// controllers/v1/user.go

func GetUser(c *gin.Context) {
    user := map[string]interface{}{
        "id":       1,
        "username": "admin",
        "role":     "super",
    }
    utils.JSON(c, 200, "ç”¨æˆ·ä¿¡æ¯è·å–æˆåŠŸ", user)
}
                </pre>
                <p>è¿”å›ç»“æœï¼š</p>
                <pre>{
    "code": 200,
    "message": "ç”¨æˆ·ä¿¡æ¯è·å–æˆåŠŸ",
    "data": {
        "id": 1,
        "username": "admin",
        "role": "super"
    }
}</pre>
            </div>
        </fieldset>

        <fieldset class="layui-elem-field">
            <legend>âš ï¸ é”™è¯¯è¿”å›ç¤ºä¾‹</legend>
            <div class="layui-field-box">
                <pre>
utils.JSON(c, 400, "å‚æ•°é”™è¯¯", nil)
utils.JSON(c, 500, "æœåŠ¡å™¨å¼‚å¸¸ï¼Œè¯·ç¨åé‡è¯•", nil)
                </pre>
                <p>å‰ç«¯å¯ä»¥ç»Ÿä¸€åˆ¤æ–­ <code>code != 200</code> æ¥å¤„ç†å¼‚å¸¸ã€‚</p>
            </div>
        </fieldset>

        <fieldset class="layui-elem-field">
            <legend>ğŸ§© é…åˆå“åº”ä¸­é—´ä»¶å»ºè®®</legend>
            <div class="layui-field-box">
                <p>ä½ å¯ä»¥åœ¨ä¸­é—´ä»¶ä¸­ç»Ÿä¸€æ—¥å¿—è¾“å‡ºæˆ–è¿½è¸ªé”™è¯¯å“åº”ï¼Œä¾‹å¦‚ï¼š</p>
                <pre>
// middlewares/logger.go

// è®°å½•æ¯æ¬¡ utils.JSON å“åº”çš„æ•°æ®æˆ–çŠ¶æ€
                </pre>
            </div>
        </fieldset>

        <blockquote class="layui-elem-quote">
            âœ… æ¨èæ‰€æœ‰æ¥å£éƒ½ä½¿ç”¨ <code>utils.JSON()</code> å“åº”å‡½æ•°ï¼Œä¿æŒä¸€è‡´æ€§ã€‚
        </blockquote>

    </div>
</div>
